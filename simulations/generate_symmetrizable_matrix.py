import numpy as np
import networkx as nx
import matplotlib.pyplot as plt


adjacency_matrix = np.array([
    [0, 2, 0.5, 0, 0, 0, 0, 0, 0, 0],
    [2, 0, 1, 3, 1, 0, 0, 0, 0, 0],
    [0.5, 1, 0, 0, 0, 1, 0, 0, 0, 0],
    [0, 3, 0, 0, 0, 0, 2, 0, 0, 0],
    [0, 1, 0, 0, 0, 0.3, 0, 0.9, 0, 0],
    [0, 0, 1, 0, 0.3, 0, 0, 0, 0, 0],
    [0, 0, 0, 2, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0.9, 0, 0, 0, 1.5, 0.3],
    [0, 0, 0, 0, 0, 0, 0, 1.5, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0.3, 0, 0]])
assert np.all(adjacency_matrix == adjacency_matrix.T)


diagonal_matrix = np.diag([1, 1/3, 1/2, 3/4, 2/5, 1/4, 2/3, 3/2, 1, 1/2])

symmetrizable_matrix = diagonal_matrix@adjacency_matrix

print(symmetrizable_matrix)

G = nx.from_numpy_array(symmetrizable_matrix)

nx.draw(G, with_labels=True)
plt.show()


# [[0.         2.      0.5        0.         0.         0.     0.         0.         0.         0.   ]
#  [0.66666667 0.      0.33333333 1.         0.33333333 0.     0.         0.         0.         0.   ]
#  [0.25       0.5     0.         0.         0.         0.5    0.         0.         0.         0.   ]
#  [0.         2.25    0.         0.         0.         0.     1.5        0.         0.         0.   ]
#  [0.         0.4     0.         0.         0.         0.12   0.         0.36       0.         0.   ]
#  [0.         0.      0.25       0.         0.075      0.     0.         0.         0.         0.   ]
#  [0.         0.      0.         1.33333333 0.         0.     0.         0.         0.         0.   ]
#  [0.         0.      0.         0.         1.35       0.     0.         0.         2.25       0.45 ]
#  [0.         0.      0.         0.         0.         0.     0.         1.5        0.         0.   ]
#  [0.         0.      0.         0.         0.         0.     0.         0.15       0.         0.   ]]

#   0           1        2          3         4         5       6         7          8          9
# 0 [[0.         2. D      0.5 D       0.         0.         0.     0.         0.         0.         0.   ]
# 1 [0.66666667 D 0.      0.33333333 D   1.D         0.33333333 D 0.     0.         0.         0.         0.   ]
# 2 [0.25D     0.5D     0.         0.         0.         0.5D    0.         0.         0.         0.   ]
# 3 [0.         2.25 D   0.         0.         0.         0.     1.5  D      0.         0.         0.   ]
# 4 [0.         0.4  D   0.         0.         0.         0.12 D  0.         0.36 D      0.         0.   ]
# 5 [0.         0.      0.25  D     0.         0.075 D     0.     0.         0.         0.         0.   ]
# 6 [0.         0.      0.         1.33333333D  0.         0.     0.         0.         0.         0.   ]
# 7 [0.         0.      0.         0.         1.35D       0.     0.         0.         2.25D       0.45D ]
# 8 [0.         0.      0.         0.         0.         0.     0.         1.5 D      0.         0.   ]
# 9 [0.         0.      0.         0.         0.         0.     0.         0.15       0.         0.   ]]
